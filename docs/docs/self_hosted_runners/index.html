
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lemonade Server is a lightweight, open-source local LLM server that allows you to run and manage multiple AI applications on your local machine. It provides a simple CLI for managing applications and supports various LLMs, making it easy to deploy and use AI models locally.">
      
      
      
        <link rel="canonical" href="https://lemonade-server.ai/self_hosted_runners/">
      
      
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>üå©Ô∏è Self Hosted Runners üå©Ô∏è Documentation - Lemonade Server Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="lightmode" data-md-color-primary="amber" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#self-hosted-runners-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://lemonade-server.ai" title="Lemonade Server Documentation" class="md-header__button md-logo" aria-label="Lemonade Server Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lemonade Server Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üå©Ô∏è Self Hosted Runners üå©Ô∏è Documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="lightmode" data-md-color-primary="amber" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lemonade-sdk/lemonade" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    lemonade-sdk/lemonade
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://lemonade-server.ai" title="Lemonade Server Documentation" class="md-nav__button md-logo" aria-label="Lemonade Server Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Lemonade Server Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lemonade-sdk/lemonade" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    lemonade-sdk/lemonade
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Downloading and Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Applications
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Application Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Application Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/open-webui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open WebUI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/ai-dev-gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Dev Gallery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/ai-toolkit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Toolkit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/anythingLLM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AnythingLLM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/codeGPT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CodeGPT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/continue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Continue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/lm-eval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LM-Eval-Harness
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/mindcraft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mindcraft
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/apps/wut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wut
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/lemonade-server-cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lemonade Server CLI Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding local LLM servers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/server_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models List
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/server_spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server Spec
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../server/server_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integration Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribution Guide
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-are-self-hosted-runners" class="md-nav__link">
    <span class="md-ellipsis">
      What are Self-Hosted Runners?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#npu-runner-setup" class="md-nav__link">
    <span class="md-ellipsis">
      NPU Runner Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NPU Runner Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-machine-setup" class="md-nav__link">
    <span class="md-ellipsis">
      New Machine Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runner-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Runner Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runner-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Runner Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintenance-and-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Maintenance and Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Maintenance and Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-your-runners-status" class="md-nav__link">
    <span class="md-ellipsis">
      Check your runner's status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actions-are-failing-unexpectedly" class="md-nav__link">
    <span class="md-ellipsis">
      Actions are failing unexpectedly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#take-a-laptop-offline" class="md-nav__link">
    <span class="md-ellipsis">
      Take a laptop offline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Workflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#capabilities-and-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Capabilities and Limitations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="self-hosted-runners-documentation">üå©Ô∏è Self Hosted Runners üå©Ô∏è Documentation</h1>
<p>This page documents how to set up and maintain self-hosted runners for lemonade-sdk.</p>
<p>Topics:
 - <a href="#what-are-self-hosted-runners">What are Self-Hosted Runners?</a>
 - <a href="#npu-runner-setup">NPU Runner Setup</a>
 - <a href="#maintenance-and-troubleshooting">Maintenance and Troubleshooting</a>
    - <a href="#check-your-runners-status">Check your runner's status</a>
    - <a href="#actions-are-failing-unexpectedly">Actions are failing unexpectedly</a>
    - <a href="#take-a-laptop-offline">Take a laptop offline</a>
- <a href="#creating-workflows">Creating Workflows</a>
    - <a href="#capabilities-and-limitations">Capabilities and Limitations</a></p>
<h2 id="what-are-self-hosted-runners">What are Self-Hosted Runners?</h2>
<p>A "runner" is a computer that has installed GitHub's runner software, which runs a service that makes the laptop available to run GitHub Actions. In turn, Actions are defined by Workflows, which specify when the Action should run (manual trigger, CI, CD, etc.) and what the Action does (run tests, build packages, run an experiment, etc.). </p>
<p>You can read about all this here: <a href="https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/about-self-hosted-runners">GitHub: About self-hosted runners</a>.</p>
<h2 id="npu-runner-setup">NPU Runner Setup</h2>
<p>This guide will help you set up a Ryzen AI laptop as a GitHub self-hosted runner. This will make the laptop available for on-demand and CI jobs that require NPU resources.</p>
<h3 id="new-machine-setup">New Machine Setup</h3>
<ul>
<li>Install the following software:<ul>
<li>The latest RyzenAI driver ONLY (do not install RyzenAI Software), which is <a href="https://ryzenai.docs.amd.com/en/latest/inst.html#install-npu-drivers">available here</a></li>
<li><a href="https://code.visualstudio.com/Download">VS Code</a></li>
<li><a href="https://git-scm.com/downloads/win">git</a></li>
</ul>
</li>
<li>If your laptop has an Nvidia GPU, you must disable it in device manager</li>
<li>Open a PowerShell script in admin mode, and run <code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned</code></li>
<li>Go into Windows settings:</li>
<li>Go to system, power &amp; battery, screen sleep &amp; hibernate timeouts, and make it so the laptop never sleeps while plugged in. If you don't do this it can fall asleep during jobs.</li>
<li>Searrch "Change the date and time", and then click "sync" under "additional settings."</li>
</ul>
<h3 id="runner-configuration">Runner Configuration</h3>
<p>These steps will place your machine in the <code>stx-test</code> pool, which is where we put machines while we are setting them up. In the next section we will finalize setup and then move the runner into the production pool.</p>
<ol>
<li>
<p>IMPORTANT: before doing step 2, read this: </p>
<ul>
<li>Use a powershell administrator mode terminal</li>
<li>Enable permissions by running <code>Set-ExecutionPolicy RemoteSigned</code></li>
<li>When running <code>./config.cmd</code> in step 2, make the following choices:<ul>
<li>Name of the runner group = <code>stx</code></li>
<li>For the runner name, call it <code>NAME-stx-NUMBER</code>, where NAME is your alias and NUMBER would tell you this is the Nth STX machine you've added.</li>
<li>Apply the label <code>stx-test</code> as well as a label with your name to indicate that you are maintaining the runner.</li>
<li>Accept the default for the work folder</li>
<li>You want the runner to function as a service (respond Y)</li>
<li>User account to use for the service = <code>NT AUTHORITY\SYSTEM</code> (not the default of <code>NT AUTHORITY\NETWORK SERVICE</code>)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Follow the instructions here for Windows|Ubuntu, minding what we said in step 1: https://github.com/organizations/lemonade-sdk/settings/actions/runners/new</p>
</li>
<li>You should see your runner show up in the <code>stx</code> runner group in the lemonade-sdk org</li>
</ol>
<h3 id="runner-setup">Runner Setup</h3>
<p>These steps will use GitHub Actions to run automated setup and validation for your new runner while it is still in the <code>stx-test</code> group.</p>
<ol>
<li>Go to the <a href="https://github.com/lemonade-sdk/lemonade/actions/workflows/test_ryzenai.yml">lemonade ryzenai test action</a> and click "run workflow".<ul>
<li>Select <code>stx-test</code> as the nimbys group</li>
<li>Check the box for "Install miniforge"</li>
<li>Click <code>Run workflow</code></li>
</ul>
</li>
<li>The workflow should appear at the top of the queue. Click into it.<ul>
<li>Expand the <code>Set up job</code> section and make sure <code>Runner name:</code> refers to your new runner. Otherwise, the job may have gone to someone else's runner in the test group. You can re-queue the workflow until it lands on your runner.</li>
<li>Wait for the workflow to finish successfully.</li>
</ul>
</li>
<li>In a powershell admin terminal, run <code>Stop-Service "actions.runner.*"</code> and then <code>Start-Service "actions.runner.*"</code>. If you don't do this, the runner wont be able to find Conda.</li>
<li>Repeat step 1, except do <strong>not</strong> check the box for "Install miniforge". Wait for it to finish successfully. Congrats, your new runner is working!</li>
<li>Go to the stx Runner Group, click your new runner, and click the gear icon to change labels. Uncheck <code>stx-test</code> and check <code>stx</code>.</li>
<li>Done!</li>
</ol>
<h2 id="maintenance-and-troubleshooting">Maintenance and Troubleshooting</h2>
<p>This is a production system and things will go wrong. Here is some advice on what to do.</p>
<h3 id="check-your-runners-status">Check your runner's status</h3>
<p>You can run <code>Get-EventLog -LogName Application -Source ActionsRunnerService</code> in a powershell terminal on your runner to get more information about what it's been up to.</p>
<p>If there have been any problems recently, they may show up like:</p>
<ul>
<li>Error: Runner connect error: &lt; details about the connection error &gt;</li>
<li>Information: Runner reconnected</li>
<li>Information: Running Job: &lt; job name &gt;</li>
<li>Information: Jos &lt; job name &gt; completed with result: [Succeeded / Canceled / Failed]</li>
</ul>
<h3 id="actions-are-failing-unexpectedly">Actions are failing unexpectedly</h3>
<p>Actions fail all the time, often because they are testing buggy code. However, sometimes an Action will fail because something is wrong with the specific NIMBYS runner that ran the Action. </p>
<p>If this happens to you, here are some steps you can take (in order):
1. Take note of which runner executed your Action. You can check this by going to the <code>Set up job</code> section of the Action's log and checking the <code>Runner name:</code> field. The machine name in that field will correspond to a machine on the <a href="https://github.com/organizations/lemonade-sdk/settings/actions/runners">runners page</a>.
1. Re-queue your job. It is possible that that the failure is a one-off, and it will work the next time on the same runner. Re-queuing also gives you a chance of getting a runner that is in a healthier state.
1. If the same runner is consistently failing, it is probably in an unhealthy state (or you have a bug in your code and you're just blaming the runner). If a runner is in an unhealthy state:
    1. <a href="#take-a-laptop-offline">Take the laptop offline</a> so that it stops being allocated Actions.
    1. <a href="https://github.com/lemonade-sdk/lemonade/issues/new">Open an Issue</a>. Assign it to the maintainer of the laptop (their name should be in the runner's name). Link the multiple failed workflows that have convinced you that this runner is unhealthy.
    1. Re-queue your job. You'll definitely get a different runner now since you took the unhealthy runner offline.
1. If all runners are consistently failing your workflow, seriously think about whether your code is the problem.</p>
<h3 id="take-a-laptop-offline">Take a laptop offline</h3>
<p>If you need to do some maintenance on your laptop, use it for dev/demo work, etc. you can remove it from the runners pool.</p>
<p>Also, if someone else's laptop is misbehaving and causing Actions to fail unexpectedly, you can remove that laptop from the runners pool to make sure that only healthy laptops are selected for work.</p>
<p>There are three options:</p>
<p>Option 1, which is available to anyone in the <code>lemonade-sdk</code> org: remove the <code>stx</code> label from the runner.
- Workflows use <code>runs-on: stx</code> to target runners with the <code>stx</code> label. Removing this label from the runner will thus remove the runner from the pool.
- Go to the <a href="https://github.com/organizations/lemonade-sdk/settings/actions/runners">runners page</a>, click the specific runner in question, click the gear icon in the Labels section, and uncheck <code>stx</code>.
- To reverse this action later, go back to the <a href="https://github.com/organizations/lemonade-sdk/settings/actions/runners">runners page</a>, click the gear icon, and check <code>stx</code>.</p>
<p>Option 2, which requires physical/remote access to the laptop:
- In a PowerShell terminal, run <code>Stop-Service "actions.runner.*"</code>.
- To reverse this action, run <code>Start-Service "actions.runner.*"</code>.</p>
<p>Option 3 is to just turn the laptop off :)</p>
<h2 id="creating-workflows">Creating Workflows</h2>
<p>GitHub Workflows define the Actions that run on self-hosted laptops to perform testing and experimentation tasks. This section will help you learn about what capabilities are available and show some examples of well-formed workflows.</p>
<h3 id="capabilities-and-limitations">Capabilities and Limitations</h3>
<p>Because we use self-hosted systems, we have to be careful about what we put into these workflows so that we avoid:
- Corrupting the laptops, causing them to produce inconsistent results or failures.
- Over-subscribing the capacity of the available laptops</p>
<p>Here are some general guidelines to observe when creating or modifying workflows. If you aren't confident that you are properly following these guidelines, please contact someone to review your code before opening your PR.</p>
<ul>
<li>Place a üå©Ô∏è emoji in the name of all of your self-host workflows, so that PR reviewers can see at a glance which workflows are using self-hosted resources.<ul>
<li>Example: <code>name: Test Lemonade on NPU and Hybrid with OGA environment üå©Ô∏è</code></li>
</ul>
</li>
<li>Avoid triggering your workflow before anyone has had a chance to review it against these guidelines. To avoid triggers, do not include <code>on: pull request:</code> in your workflow until after a reviewer has signed off.</li>
<li>Only map a workflow with <code>runs on: stx</code> if it actually requires Ryzen AI compute. If a step in your workflow can use generic compute (e.g., running a Hugging Face LLM on CPU), put that step on a generic non-NIMBYS runner like <code>runs on: windows-latest</code>.</li>
<li>Be very considerate about installing software on to the runners:<ul>
<li>Installing software into the CWD (e.g., a path of <code>.\</code>) is always ok, because that will end up in <code>C:\actions-runner\_work\REPO</code>, which is always wiped between tests.</li>
<li>Installing software into <code>AppData</code>, <code>Program Files</code>, etc. is not advisable because that software will persist across tests. See the <a href="#npu-runner-setup">setup</a> section to see which software is already expected on the system.</li>
</ul>
</li>
<li>Always create new conda environments in the CWD, for example <code>conda create -p .\my-env</code>.<ul>
<li>This way, the conda environment is located in <code>C:\actions-runner\_work\REPO</code>, which is wiped between tests.</li>
<li>Do NOT create conda environments by name, for example <code>conda create -n dont-you-dare</code> since that will end up in the conda install location and will persist across tests.</li>
<li>Make sure to activate your conda environment (e.g., <code>conda activate .\lemon-npu-ci</code>) before running any <code>pip install</code> commands. Otherwise your workflow will modify the base environment!</li>
</ul>
</li>
<li>PowerShell scripts do not necessarily raise errors by programs they call.<ul>
<li>That means PowerShell can call a Python test, and then keep going and claim "success" even if that Python test fails and raises an error (non-zero exit code).</li>
<li>You can add <code>if ($LASTEXITCODE -ne 0) { exit $LASTEXITCODE }</code> after any line of script where it is that is particularly important to fail the workflow if the program in the preceding line raised an error.<ul>
<li>For example, this will make sure that lemonade installed correctly: <ol>
<li>pip install -e .</li>
<li>if ($LASTEXITCODE -ne 0) { exit $LASTEXITCODE }</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>Be considerate of how long your workflow will run for, and how often it will be triggered.<ul>
<li>All workflows go into the same queue and share the same pool of runners.</li>
<li>A good target length for a workflow is 15 minutes.</li>
</ul>
</li>
<li>Be considerate of how much data your workflow will download.<ul>
<li>It would be very bad to fill up a hard drive, since Windows machines misbehave pretty bad when their drives are full.</li>
<li>Place your Hugging Face cache inside the <code>_work</code> directory so that it will be wiped after each job.<ul>
<li>Example: <code>$Env:HF_HOME=".\hf-cache"</code></li>
</ul>
</li>
<li>Place your Lemonade cache inside the <code>_work</code> directory so that it will be wiped after each job.<ul>
<li>Example: <code>lemonade -d .\ci-cache</code> or <code>$Env:LEMONADE_CACHE_DIR=".\ci-cache"</code>. Use the environment variable, rather than the <code>-d</code> flag, wherever possible since it will apply to all lemonade calls within the job step.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="license">License</h1>
<p><a href="../LICENSE">Apache 2.0 License</a></p>
<p>Copyright(C) 2024-2025 Advanced Micro Devices, Inc. All rights reserved.
SPDX-License-Identifier: MIT</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 AMD. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@AMDDevCentral" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a3.02 3.02 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.02 3.02 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.02 3.02 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.02 3.02 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814M9.545 15.568V8.432L15.818 12z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/lemonade-sdk/lemonade" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/5xXzkMu8Zk" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.317 4.37a19.8 19.8 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.3 18.3 0 0 0-5.487 0 13 13 0 0 0-.617-1.25.08.08 0 0 0-.079-.037A19.7 19.7 0 0 0 3.677 4.37a.1.1 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.08.08 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.08.08 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13 13 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10 10 0 0 0 .372-.292.07.07 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.07.07 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.3 12.3 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.08.08 0 0 0 .084.028 19.8 19.8 0 0 0 6.002-3.03.08.08 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.06.06 0 0 0-.031-.03M8.02 15.33c-1.182 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418m7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer", "navigation.tracking", "navigation.expand", "navigation.top", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../assets/carousel.js"></script>
      
    
  </body>
</html>